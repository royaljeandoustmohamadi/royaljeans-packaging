# ğŸ“Š Ù†Ù…ÙˆØ¯Ø§Ø± Ø³ÛŒØ³ØªÙ… - System Diagram

---

## ğŸ—ï¸ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø³ÛŒØ³ØªÙ… / System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Ù…Ø±ÙˆØ±Ú¯Ø± Ø´Ù…Ø§ / Browser                     â”‚
â”‚                                                                   â”‚
â”‚                    http://localhost:5173                          â”‚
â”‚                                                                   â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚              â”‚         Frontend (React)            â”‚               â”‚
â”‚              â”‚   - Chakra UI Components            â”‚               â”‚
â”‚              â”‚   - State Management (Zustand)    â”‚               â”‚
â”‚              â”‚   - Pages: Login, Dashboard, etc.  â”‚               â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                          â†“                                       â”‚
â”‚                    HTTP Requests                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Backend (Node.js + Express)                    â”‚
â”‚                                                                   â”‚
â”‚                    http://localhost:5000                          â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  Auth Route  â”‚  â”‚ Order Route  â”‚  â”‚Contractor Rt â”‚            â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚            â”‚
â”‚  â”‚ - Register   â”‚  â”‚ - CRUD       â”‚  â”‚ - CRUD       â”‚            â”‚
â”‚  â”‚ - Login      â”‚  â”‚ - Search     â”‚  â”‚ - Evaluate   â”‚            â”‚
â”‚  â”‚ - Profile    â”‚  â”‚ - Filter     â”‚  â”‚ - Rating     â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                                   â”‚
â”‚              JWT Authentication Middleware                       â”‚
â”‚                          â†“                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              Prisma ORM                                  â”‚    â”‚
â”‚  â”‚  - Database Schema                                       â”‚    â”‚
â”‚  â”‚  - Migrations                                           â”‚    â”‚
â”‚  â”‚  - Type Safety                                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â†“                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Database (SQLite)                             â”‚
â”‚                                                                   â”‚
â”‚                    backend/prisma/dev.db                         â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  User   â”‚  â”‚  Order  â”‚  â”‚Contractorâ”‚  â”‚  Audit  â”‚            â”‚
â”‚  â”‚ Table   â”‚  â”‚  Table  â”‚  â”‚  Table  â”‚  â”‚   Log   â”‚            â”‚
â”‚  â”‚         â”‚  â”‚         â”‚  â”‚         â”‚  â”‚         â”‚            â”‚
â”‚  â”‚ - id    â”‚  â”‚ - id    â”‚  â”‚ - id    â”‚  â”‚ - id    â”‚            â”‚
â”‚  â”‚ - email â”‚  â”‚ - code  â”‚  â”‚ - name  â”‚  â”‚ - entityâ”‚            â”‚
â”‚  â”‚ - role  â”‚  â”‚ - 84    â”‚  â”‚ - type  â”‚  â”‚ - actionâ”‚            â”‚
â”‚  â”‚         â”‚  â”‚  fields â”‚  â”‚         â”‚  â”‚         â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Ø¬Ø±ÛŒØ§Ù† ÙˆØ±ÙˆØ¯ Ú©Ø§Ø±Ø¨Ø± / User Login Flow

```
Ú©Ø§Ø±Ø¨Ø± / User
    â”‚
    â†“
[Ù…Ø±ÙˆØ±Ú¯Ø± Ø¨Ø§Ø² Ù…ÛŒâ€ŒÚ©Ù†Ø¯ / Opens Browser]
    â”‚
    â†“
http://localhost:5173
    â”‚
    â†“
[ØµÙØ­Ù‡ Login Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯]
    â”‚
    â†“
[Ø§ÛŒÙ…ÛŒÙ„ Ùˆ Ø±Ù…Ø² ÙˆØ§Ø±Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯]
    â”‚
    â†“
Frontend â†’ POST /api/auth/login
    â”‚
    â†“
Backend â†’ Ø§ÛŒÙ…ÛŒÙ„ Ùˆ Ø±Ù…Ø² Ø±Ø§ Ú†Ú© Ù…ÛŒâ€ŒÚ©Ù†Ø¯
    â”‚
    â†“
Prisma â†’ Ø¯Ø± Ø¬Ø¯ÙˆÙ„ User Ø¬Ø³ØªØ¬Ùˆ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
    â”‚
    â†“
[Ø§Ú¯Ø± Ø¯Ø±Ø³Øª Ø¨ÙˆØ¯] / [If correct]
    â”‚
    â†“
Backend â†’ JWT Token Ù…ÛŒâ€ŒØ³Ø§Ø²Ø¯
    â”‚
    â†“
Frontend â† Token + User Data Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ù…ÛŒâ€ŒÚ©Ù†Ø¯
    â”‚
    â†“
[Token Ø¯Ø± localStorage Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯]
    â”‚
    â†“
[Ú©Ø§Ø±Ø¨Ø± Ø¨Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù…Ù†ØªÙ‚Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯]
```

---

## ğŸ”„ Ø¬Ø±ÛŒØ§Ù† Ø§ÛŒØ¬Ø§Ø¯ Ø³ÙØ§Ø±Ø´ / Create Order Flow

```
Ú©Ø§Ø±Ø¨Ø± / User
    â”‚
    â†“
[Ø¨Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ ÙˆØ§Ø±Ø¯ Ø´Ø¯Ù‡ Ø§Ø³Øª]
    â”‚
    â†“
[Ø±ÙˆÛŒ "Ø§ÛŒØ¬Ø§Ø¯ Ø³ÙØ§Ø±Ø´" Ú©Ù„ÛŒÚ© Ù…ÛŒâ€ŒÚ©Ù†Ø¯]
    â”‚
    â†“
[ÙØ±Ù… 84 ÙÛŒÙ„Ø¯ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯]
    â”‚
    â†“
[Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø§ Ø¯Ø± 5 ØªØ¨ Ù¾Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯]
    â”‚
    â”œâ”€â†’ ØªØ¨ 1: Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§ØµÙ„ÛŒ (Ú©Ø¯ØŒ ØªØ§Ø±ÛŒØ®ØŒ ÙˆØ¶Ø¹ÛŒØª)
    â”œâ”€â†’ ØªØ¨ 2: Ø³Ø§ÛŒØ²Ø¨Ù†Ø¯ÛŒ (Ø³Ø§Ù„Ù…ØŒ Ø§Ù‚ØªØµØ§Ø¯ÛŒ 1-3ØŒ Ù†Ù…ÙˆÙ†Ù‡ØŒ Ø§Ø³ØªÙˆÚ©)
    â”œâ”€â†’ ØªØ¨ 3: Ù…ÙˆØ¬ÙˆØ¯ÛŒ (Ù…Ù„Ø²ÙˆÙ…Ø§ØªØŒ Ø¯ÙˆØ®ØªØŒ Ù¾Ø§Ø±Ú†Ù‡)
    â”œâ”€â†’ ØªØ¨ 4: Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÚ©Ù…ÛŒÙ„ÛŒ
    â””â”€â†’ ØªØ¨ 5: ØªÙˆØ¶ÛŒØ­Ø§Øª
    â”‚
    â†“
[Ø±ÙˆÛŒ "Ø°Ø®ÛŒØ±Ù‡" Ú©Ù„ÛŒÚ© Ù…ÛŒâ€ŒÚ©Ù†Ø¯]
    â”‚
    â†“
Frontend â†’ POST /api/orders (Ø¨Ø§ Token)
    â”‚
    â†“
Backend â†’ Token Ø±Ø§ Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
    â”‚
    â†“
Backend â†’ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
    â”‚
    â†“
Prisma â†’ Ø¯Ø± Ø¬Ø¯ÙˆÙ„ Order Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
    â”‚
    â†“
Prisma â†’ Ø¯Ø± AuditLog Ø«Ø¨Øª Ù…ÛŒâ€ŒÚ©Ù†Ø¯
    â”‚
    â†“
Frontend â† Ù¾Ø§Ø³Ø® Ù…ÙˆÙÙ‚ÛŒØª Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ù…ÛŒâ€ŒÚ©Ù†Ø¯
    â”‚
    â†“
[Ù¾ÛŒØ§Ù… Ù…ÙˆÙÙ‚ÛŒØª Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯]
    â”‚
    â†“
[Ø¨Ù‡ Ù„ÛŒØ³Øª Ø³ÙØ§Ø±Ø´Ø§Øª Ù…Ù†ØªÙ‚Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯]
```

---

## ğŸ“± Ø³Ø§Ø®ØªØ§Ø± ØµÙØ­Ø§Øª Frontend / Frontend Pages Structure

```
App.jsx
    â”‚
    â”œâ”€â†’ / (Public)
    â”‚   â””â”€â†’ LoginPage.jsx
    â”‚
    â”œâ”€â†’ /register (Public)
    â”‚   â””â”€â†’ RegisterPage.jsx (Ø§Ú¯Ø± ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯)
    â”‚
    â””â”€â†’ /dashboard (Protected)
        â”‚
        â”œâ”€â†’ Layout (Sidebar + Header)
        â”‚   â”‚
        â”‚   â”œâ”€â†’ /dashboard
        â”‚   â”‚   â””â”€â†’ Dashboard.jsx
        â”‚   â”‚       - Ø¢Ù…Ø§Ø± Ú©Ù„ÛŒ
        â”‚   â”‚       - Ú¯Ø±Ø§Ùâ€ŒÙ‡Ø§
        â”‚   â”‚       - Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§ØªÛŒ
        â”‚   â”‚
        â”‚   â”œâ”€â†’ /orders
        â”‚   â”‚   â””â”€â†’ OrdersList.jsx
        â”‚   â”‚       - Ù„ÛŒØ³Øª Ø³ÙØ§Ø±Ø´Ø§Øª
        â”‚   â”‚       - Ø¬Ø³ØªØ¬Ùˆ Ùˆ ÙÛŒÙ„ØªØ±
        â”‚   â”‚       - Pagination
        â”‚   â”‚
        â”‚   â”œâ”€â†’ /orders/new
        â”‚   â”‚   â””â”€â†’ OrderCreate.jsx
        â”‚   â”‚       - ÙØ±Ù… 84 ÙÛŒÙ„Ø¯
        â”‚   â”‚       - 5 ØªØ¨ Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡
        â”‚   â”‚       - Validation
        â”‚   â”‚
        â”‚   â”œâ”€â†’ /orders/:id
        â”‚   â”‚   â””â”€â†’ OrderDetail.jsx
        â”‚   â”‚       - Ù†Ù…Ø§ÛŒØ´ Ø¬Ø²Ø¦ÛŒØ§Øª
        â”‚   â”‚       - ÙˆÛŒØ±Ø§ÛŒØ´
        â”‚   â”‚       - Ø­Ø°Ù
        â”‚   â”‚
        â”‚   â”œâ”€â†’ /contractors
        â”‚   â”‚   â””â”€â†’ Contractors.jsx
        â”‚   â”‚       - Ù„ÛŒØ³Øª Ù¾ÛŒÙ…Ø§Ù†Ú©Ø§Ø±Ø§Ù†
        â”‚   â”‚       - ÙÛŒÙ„ØªØ± Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†ÙˆØ¹
        â”‚   â”‚       - Ø§ÛŒØ¬Ø§Ø¯ Ùˆ ÙˆÛŒØ±Ø§ÛŒØ´
        â”‚   â”‚
        â”‚   â””â”€â†’ /reports
        â”‚       â””â”€â†’ Reports.jsx
        â”‚           - ÙÛŒÙ„ØªØ±Ù‡Ø§
        â”‚           - Ø¬Ø¯ÙˆÙ„ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§
        â”‚           - Ø®Ø±ÙˆØ¬ÛŒ Excel
        â”‚
        â””â”€â†’ /logout
            â””â”€â†’ Ø®Ø±ÙˆØ¬ Ø§Ø² Ø³ÛŒØ³ØªÙ…
```

---

## ğŸ—„ï¸ Ù…Ø¯Ù„ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ / Database Model

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        USER Table                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id          Int      @id @default(autoincrement())         â”‚
â”‚ email       String   @unique                                â”‚
â”‚ password    String   (hashed with bcrypt)                   â”‚
â”‚ fullName    String                                          â”‚
â”‚ role        Enum     (ADMIN, MANAGER, USER)                 â”‚
â”‚ createdAt   DateTime @default(now())                        â”‚
â”‚ updatedAt   DateTime @updatedAt                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ 1:N
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ORDER Table                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id          Int      @id @default(autoincrement())         â”‚
â”‚ code        String   @unique                                â”‚
â”‚ date        DateTime                                        â”‚
â”‚ status      Enum     (PENDING, IN_PROGRESS, DONE, CANCELLED)â”‚
â”‚ createdBy   Int      (relation to User)                     â”‚
â”‚                                                             â”‚
â”‚ // Sizing                                                   â”‚
â”‚ healthy     Int                                             â”‚
â”‚ eco1        Int                                             â”‚
â”‚ eco2        Int                                             â”‚
â”‚ eco3        Int                                             â”‚
â”‚ sample      Int                                             â”‚
â”‚ stock       Int                                             â”‚
â”‚                                                             â”‚
â”‚ // Inventory                                                â”‚
â”‚ requirements String (JSON)                                  â”‚
â”‚ sewing      String (JSON)                                   â”‚
â”‚ fabric      String (JSON)                                   â”‚
â”‚                                                             â”‚
â”‚ // ... and more fields (84 total)                          â”‚
â”‚                                                             â”‚
â”‚ createdAt   DateTime @default(now())                        â”‚
â”‚ updatedAt   DateTime @updatedAt                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CONTRACTOR Table                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id          Int      @id @default(autoincrement())         â”‚
â”‚ name        String   @unique                                â”‚
â”‚ type        Enum     (FABRIC, PRODUCTION, PACKAGING,        â”‚
â”‚                       STONE_WASHING)                        â”‚
â”‚ contactInfo String                                          â”‚
â”‚ isActive    Boolean  @default(true)                         â”‚
â”‚ createdAt   DateTime @default(now())                        â”‚
â”‚ updatedAt   DateTime @updatedAt                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ 1:N
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              CONTRACTOR_EVALUATION Table                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id           Int      @id @default(autoincrement())         â”‚
â”‚ contractorId Int      (relation to Contractor)              â”‚
â”‚ rating       Int      (1-5 stars)                           â”‚
â”‚ comment      String                                          â”‚
â”‚ evaluatedBy  Int      (relation to User)                    â”‚
â”‚ createdAt    DateTime @default(now())                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     AUDIT_LOG Table                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id          Int      @id @default(autoincrement())         â”‚
â”‚ entity      String   (e.g., "Order", "Contractor")         â”‚
â”‚ entityId    Int                                             â”‚
â”‚ action      Enum     (CREATE, UPDATE, DELETE)               â”‚
â”‚ userId      Int      (relation to User)                     â”‚
â”‚ changes     String   (JSON of old/new values)               â”‚
â”‚ createdAt   DateTime @default(now())                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª JWT / JWT Authentication Flow

```
1. Login Request
   Frontend â†’ Backend
   { email, password }

2. Validate Credentials
   Backend â†’ Database
   SELECT * FROM User WHERE email = ?

3. Generate Token
   Backend
   JWT.sign({ userId, role }, JWT_SECRET)

4. Send Token
   Backend â†’ Frontend
   { token, user }

5. Store Token
   Frontend
   localStorage.setItem('token', token)

6. Subsequent Requests
   Frontend â†’ Backend
   Header: Authorization: Bearer <token>

7. Verify Token
   Backend Middleware
   JWT.verify(token, JWT_SECRET)

8. Extract User Info
   Backend
   { userId, role } from token

9. Attach to Request
   req.user = { userId, role }

10. Process Request
    Backend Routes use req.user
```

---

## ğŸ“Š API Endpoints Summary

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AUTHENTICATION                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ POST   /api/auth/register     Create new user              â”‚
â”‚ POST   /api/auth/login        Login user                   â”‚
â”‚ GET    /api/auth/profile      Get current user (auth)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ORDERS                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ GET    /api/orders           List all orders (auth)       â”‚
â”‚ POST   /api/orders           Create order (auth)          â”‚
â”‚ GET    /api/orders/:id       Get single order (auth)      â”‚
â”‚ PUT    /api/orders/:id       Update order (auth)          â”‚
â”‚ DELETE /api/orders/:id       Delete order (auth)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CONTRACTORS                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ GET    /api/contractors           List all (auth)          â”‚
â”‚ POST   /api/contractors           Create (auth)             â”‚
â”‚ GET    /api/contractors/:id       Get single (auth)        â”‚
â”‚ PUT    /api/contractors/:id       Update (auth)            â”‚
â”‚ DELETE /api/contractors/:id       Delete (auth)            â”‚
â”‚ POST   /api/contractors/:id/evaluations  Add evaluation    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       REPORTS                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ GET    /api/reports/orders         Get report (auth)        â”‚
â”‚ GET    /api/reports/orders/export  Export Excel (auth)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ Component Hierarchy

```
App
 â””â”€ AuthProvider (Zustand Store)
     â”œâ”€ Routes
     â”‚   â”œâ”€ PublicRoutes
     â”‚   â”‚   â”œâ”€ LoginPage
     â”‚   â”‚   â””â”€ RegisterPage
     â”‚   â””â”€ ProtectedRoutes
     â”‚       â””â”€ MainLayout
     â”‚           â”œâ”€ Sidebar
     â”‚           â”œâ”€ Header
     â”‚           â””â”€ Content
     â”‚               â”œâ”€ Dashboard
     â”‚               â”œâ”€ OrdersList
     â”‚               â”œâ”€ OrderCreate
     â”‚               â”œâ”€ OrderDetail
     â”‚               â”œâ”€ Contractors
     â”‚               â””â”€ Reports
     â””â”€ ToastContainer (Notifications)
```

---

## ğŸ”§ Development Workflow

```
1. Code Changes
   â”‚
   â”œâ”€ Backend: Edit routes, middleware, utils
   â”‚    â†“
   â”‚   Server auto-restarts (nodemon)
   â”‚
   â””â”€ Frontend: Edit components, pages, services
        â†“
      HMR updates page automatically

2. Database Changes
   â”‚
   â”œâ”€ Edit prisma/schema.prisma
   â”‚    â†“
   â”‚   npx prisma migrate dev
   â”‚    â†“
   â”‚   Prisma Client regenerates
   â”‚
   â””â”€ View in Prisma Studio
        npm run prisma:studio

3. Testing
   â”‚
   â”œâ”€ Manual Testing
   â”‚   â”œâ”€ Browser UI testing
   â”‚   â”œâ”€ API testing with Postman
   â”‚   â””â”€ Database with Prisma Studio
   â”‚
   â””â”€ Automated Testing (if added)
       â”œâ”€ Unit tests
       â”œâ”€ Integration tests
       â””â”€ E2E tests
```

---

**Ø§ÛŒÙ† Ù†Ù…ÙˆØ¯Ø§Ø± Ø¨Ù‡ Ø´Ù…Ø§ Ú©Ù…Ú© Ù…ÛŒâ€ŒÚ©Ù†Ø¯ ØªØ§ Ø³Ø§Ø®ØªØ§Ø± Ø³ÛŒØ³ØªÙ… Ø±Ø§ Ø¨Ù‡ØªØ± Ø¯Ø±Ú© Ú©Ù†ÛŒØ¯!**
**This diagram helps you understand the system structure better!**
